## Вычисляем штуки
```C
#version 460

layout(local_size_x = 64, local_size_y = 1, local_size_z = 1) in;

layout(set = 0, binding = 0) buffer Data {
    uint data[];
} buf;

void main() {
    uint idx = gl_GlobalInvocationID.x;
    buf.data[idx] *= 12;
}
```
GLSL - Язык шейдеров доя OpenGL (openGL Shader Language) синтаксисом очень похож на C, что неудивительно. Кстати в каком-то будущем разрабы обещают дать возможность писать код на Rust или языке похожем на него

строчка `#version 460` - это версия API для OpenGL (на данный момент актуальная 4.61 или же 461). Для старых GPU придётся использовать версию меньше

```C
layout(local_size_x = 64, local_size_y = 1, local_size_z = 1) in;
```
тут мы создаём рабочую группу размерностью (64,1,1) лучше всегда стремиться делать группу кратной 32. Таким образом мы будем вызывать эту группу 1024 раза ведь обрабатываемый в [[примеры вычислений на RV]] массив мы сделали размерностью 65536. Отсюда и следует:
$$\frac{65536}{64}=1024$$
Конечно можно было бы сделать размер (1,1,1) и вызывать его 65536 раз, но в таком случае это будет менее производительно. Когда мы работаем со значениями (x,y,z), где x и y и z > 1 то группа будет вызываться для всякой комбинации x,y и z 
```C
layout(set = 0, binding = 0) buffer Data { 
	uint data[]; 
} buf;
```
тут объявляется *дескриптор*. тут это буфер `buf`, который является вектором с типом uitn 32-bit. В Rust его  объявление было бы типа:
```rust
let buf Vector<u32>;
```

```c
uint idx = gl_GlobalInvocationID.x;
```
тут мы просим дать нам нынешний идентификатор по Х, нынешний - подразумеваться, что в процессе вычисления - он будет меняться от 0 до 63
ну и очевидно, что в строке 
```c
buf.data[idx] *= 12;
```
мы умножаем то что находится в буфере по индексу и умножаем на это число
стоит заметить, что действия типа:
```c
buf.data[idx] += buf.data[idx-delta]
```
где  0 < idx-delta < local_size_x,  может привести к неопределённости, так как всю рабочую очередь GPU выполняет параллельно(по 64 индекса за раз) и то, какое число лежит в буфере с индексом лежащем в данной очереди - неизвестно. 