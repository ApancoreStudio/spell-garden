здесь будет описан сам алгоритм построения "дерева" заклинания, то как игрок влияет на него, несколько вариантов интерпретации по факту дерево->действие в игре

## Построение дерева заклинаний:
Генетика "семени", что будет отправной точкой для роста, создаётся вместе с персонажем согласно иному алгоритму и представляет из себя матрицу размерности от 3 до 4:
1. уровень "*населения*" тут существуют порядковые номера возможных клеток. размерность данного уровня соответствует уровню героя
2. в соответствии с строчками "населения" существует столбцы "*ребёнок*", где перечисляются индексы детей, которые возможно породить от данной клетки
3. растягиваем двумерную плоскость в третье измерения добавляя *координату* "от родителя". таким образом в зависимости от индекса родителя и индекса дочерней клетки образуется пара {длинна ветви, угол от нормали, полярный угол} (смотр [[Tree_Of_Spelling.png]])
4. переходя в четвёртое измерение мы даём генотипу "*факторы*". там записаны условия подмены второго либо третьего уровня в формате {номер условия, параметр условия, сдвиг номера ребёнка, {новый вектор}}

Заклинание соответственно является массивом составленным из чисел, которые в свою очередь является переводом символов введённых с клавиатуры. эти числа по сути - последовательность заполнения строчки первого уровня "населения", в случае дублирования значений строчек - клетка прорастёт по такому паттерну, который соответствует остатку от деления индекса "родителя" на число дубликатов.  

Подведём итог, изначально существует четырёхмерная матрица "семени" дерева, у которой одна из строк, а именно "население", пуста. Игрок вводит заклинание и по порядку букв выставляется соответствие кто кого порождает и по какому паттерну, поскольку порядкового заполняет первую строчку генома. Таким образом комбинации типа AAA или иные повторяющиеся комбинации - дают самый непредсказуемый результат. 

## Интерпретация древа в действие игры
1. Самое простое в данном алгоритме - вычислить "цену заклинания". Так как это будет коэффициент предрасположенности к магии помноженный на всю длину "веток" в полученном дереве.
2. Более сложным является вычисления эффекта заклинания: Объём куба в котором прорастает дерево делится на изначально равные объёмы, где квадраты площади делят между собой "стихии", а распределение по высоте - предназначение (атака, защита, взаимодействие). Согласно прокачке персонажа пропорции объёмов меняются в зависимости от частоты использования того или иного типа и стихии. Сама интерпретация заклинания описывается максимально просто - объём с наибольшим числом клеток имеет преимущество в реализации. 
3. Элемент являющийся предметом заклинания получается из генотипа семени. Во внимание берётся число получаемое суммой длин всех "веток" заданных в матрице `ДАННЫЙ ЭТАП ТРЕБУЕТ ПРОРАБОТКИ, ИДЕЯ ИСПОЛЬЗОВАНИЯ ЭЛЕМЕНТОВ ПОКАЧТО НЕ ПРИНИМАЕТСЯ ВО ВНИМАНИЕ
4. Дальность действия заклинания - его цена делённое на число клеток в дереве